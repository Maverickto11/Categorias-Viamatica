<div class="container">
  <h2>Mis Publicaciones</h2>

  <!-- Formulario para crear nueva publicación -->
  <div>
    <h3>Crear Nueva Publicación</h3>
    <form (ngSubmit)="crearPublicacion()">
      <div>
        <label for="titulo">Título</label>
        <input type="text" id="titulo" [(ngModel)]="nuevaPublicacion.Titulo" name="titulo" required />
      </div>
      <div>
        <label for="contenido">Contenido</label>
        <textarea id="contenido" [(ngModel)]="nuevaPublicacion.Contenido" name="contenido" required></textarea>
      </div>
      <div>
        <label for="categoria">Categoría</label>
        <input type="number" id="categoria" [(ngModel)]="nuevaPublicacion.CategoriaId" name="categoria" required />
      </div>
      <button type="submit">Crear Publicación</button>
    </form>
  </div>

  <!-- Mostrar publicaciones -->
  <div *ngIf="publicaciones.length > 0">
    <div *ngFor="let publicacion of publicaciones" class="publicacion-card">
      <h3>{{ publicacion.Titulo }}</h3>
      <p>{{ publicacion.Contenido }}</p>
      <small>Publicado por: {{ publicacion.Usuario }}</small>
      <button (click)="iniciarEdicion(publicacion)">Editar</button>
      <button (click)="eliminarPublicacion(publicacion.Id)">Eliminar</button>
    </div>
  </div>

  <!-- Formulario para editar publicación -->
  <div *ngIf="publicacionIdEdicion">
    <h3>Editar Publicación</h3>
    <form (ngSubmit)="editarPublicacionSubmit()">
      <div>
        <label for="titulo">Título</label>
        <input type="text" id="titulo" [(ngModel)]="editarPublicacion.Titulo" name="titulo" required />
      </div>
      <div>
        <label for="contenido">Contenido</label>
        <textarea id="contenido" [(ngModel)]="editarPublicacion.Contenido" name="contenido" required></textarea>
      </div>
      <div>
        <label for="categoria">Categoría</label>
        <input type="number" id="categoria" [(ngModel)]="editarPublicacion.CategoriaId" name="categoria" required />
      </div>
      <button type="submit">Actualizar Publicación</button>
    </form>
  </div>
</div>
